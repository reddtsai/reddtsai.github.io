[{"content":"éš¨è‘—é›²ç«¯æ™‚ä»£çš„åˆ°ä¾†ï¼Œè®“è»Ÿé«”é–‹ç™¼èˆ‡é›²ç«¯å¹³å°è®Šå¾—å¯†ä¸å¯åˆ†ã€‚é›²ç«¯æœ‰é‚£äº›å¥½è™•ï¼Ÿè©²é¸é‚£å€‹é›²ç«¯ä¾›æ‡‰å•† AWSã€Azureã€GCPã€é˜¿é‡Œäº‘ï¼Ÿï¼Ÿç¶²ä¸Šæœ‰å¾ˆå¤šè«–è¿°å¯ä¾›åƒè€ƒã€‚ç•¶ä½ è¦åŠ å…¥é›²ç«¯æ™‚ï¼Œåƒè¬ä¸è¦ç›´æ¥å°‡å…¬å¸çš„ Server æ¬ä¸Šé›²ç«¯ï¼Œå› ç‚ºå¾ˆæœ‰å¯èƒ½è®“å…¬å¸ç™¼ä¸å‡ºè–ªæ°´ã€‚\nHow é‚£è¦å¦‚ä½•åŠ å…¥é›²ç«¯ï¼Ÿæˆ‘æœƒå»ºè­°ä½ ä»¥ä¸‹ Stepï¼š\n èªè­˜é›²ç«¯ æ¶æ§‹è¦åŠƒ é¸æ“‡ä¾›æ‡‰å•† è©¦ç®—æˆæœ¬ ç”³è«‹é ç®— æ‰“çµ±ç·¨å ±ç¨…  æ¶æ§‹è¦åŠƒçš„éƒ¨åˆ†ï¼Œåªæœ‰é©åˆä½ çš„æ¶æ§‹ï¼Œæ²’æœ‰æ­£ç¢ºç­”æ¡ˆï¼Œå»ºè­°å…ˆç­è§£ä»¥ä¸‹å¹¾å€‹é›²ç«¯ä¸»æµæ¶æ§‹ï¼š\n Serverless\nGCP:App Engine\nAzure:Functions\nAWS:Lambda VM\nGCP:Compute Engine\nAzure:VM\nAWS:EC2 Container\nGCP:Kubernetes Engine\nAzure:Kubernetes Service\nAWS:Elastic Kubernetes Service  ","description":"å¦‚ä½•åŠ å…¥é›²ç«¯ï¼Ÿ","id":0,"section":"posts","tags":["GCP"],"title":"å¿«æ¨‚ä¸Šé›²ç«¯","uri":"https://reddtsai.github.io/zh/posts/gcp/"},{"content":"è‡³å¾é–‹å§‹ä½¿ç”¨ dotnet core å¾Œï¼Œå€‹äººçš„é–‹ç™¼æ–¹å¼ä¹Ÿå¾ Visual Studio on Windowsï¼Œè½‰æ›ç‚º Visual Studio Code on Macï¼Œè½‰è®Šçš„éç¨‹æœ‰å¾ˆå¤šå€¼å¾—è¨˜éŒ„ã€‚ä¾‹å¦‚æœ€è¿‘é–‹ç™¼ä¸Šéœ€è¦å®‰è£ä¸€å€‹ dotnet å·¥å…·ï¼Œå¦‚æœæ˜¯ç”¨ Visual Studioï¼Œæœƒäº¤ç”±æ“´å……ç®¡ç†å“¡ä¾†å®‰è£å·¥å…·ï¼Œé‚£åœ¨æ²’æœ‰ Visual Studio çš„å”åŠ©ä¸‹å‘¢ï¼Ÿé€™è£¡æœƒä»‹ç´¹å¦‚ä½•ä½¿ç”¨ CLI ä¾†å®‰è£ dotnet-efã€‚\nRequirements é¦–å…ˆæº–å‚™å¥½ç’°å¢ƒï¼Œä»¥æˆ‘ç‚ºä¾‹ï¼š\n macOS 10.15 .NET Core 3.1  ç’°å¢ƒç¢ºèªå¾Œï¼Œé€éä»¥ä¸‹æŒ‡ä»¤ï¼Œåˆ—å‡ºå·²å®‰è£çš„ dotnet toolã€‚\n1 2  dotnet tool list dotnet tool list -g   gï¼šå…¨åŸŸ Install é€é dotnet CLI ä¾†å®‰è£å·¥å…·ï¼Œé€™è£¡ä»‹ç´¹å®‰è£ dotnet-ef å·¥å…·åˆ°å…¨åŸŸæˆ–æœ¬åœ°ã€‚\n Global 1  dotnet tool install dotnet-ef -g    Local\nå®‰è£æœ¬åœ°å·¥å…·ï¼Œéœ€è¦å®šç¾© manifest fileã€‚é¦–å…ˆæº–å‚™å¥½ dotnet projectï¼Œåœ¨å°ˆæ¡ˆä¸‹åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®ƒæœƒç”¢ç”Ÿä¸€å€‹ dotnet-tools.json è¨˜éŒ„æœ¬åœ°å·¥å…·ã€‚ 1 2  dotnet new tool-manifest dotnet tool install   .config/dotnet-tools.json\n1 2 3 4 5 6 7 8 9 10 11 12  { \u0026#34;version\u0026#34;: 1, \u0026#34;isRoot\u0026#34;: true, \u0026#34;tools\u0026#34;: { \u0026#34;dotnet-ef\u0026#34;: { \u0026#34;version\u0026#34;: \u0026#34;3.1.3\u0026#34;, \u0026#34;commands\u0026#34;: [ \u0026#34;dotnet-ef\u0026#34; ] } } }     Update æ›´æ–° dotnet toolï¼Œä¸€æ¨£åˆ†ç‚ºå…¨åŸŸå’Œæœ¬åœ°ï¼Œå¦‚ä¸‹ç¤ºç¯„ï¼š\n Global 1  dotnet tool update -g dotnet-ef    Local 1  dotnet tool update dotnet-ef     Uninstall å¸è¼‰å·²å®‰è£çš„å·¥å…·ï¼š\n Global 1  dotnet tool uninstall -g dotnet-ef    Local 1  dotnet tool uninstall dotnet-ef     Reference .NET Core tools\n","description":"ä½¿ç”¨ CLI ä¾†å®‰è£ dotnet-ef","id":1,"section":"posts","tags":["dotnet"],"title":"åœ¨ Mac ä¸Šå®‰è£ dotnet tool","uri":"https://reddtsai.github.io/zh/posts/dotnet_tool/"},{"content":"é–‹ç™¼ .NET æ‡‰ç”¨ç¨‹å¼åœ¨è™•ç†è³‡æ–™æ™‚ï¼Œéƒ½æœƒå»ºç«‹æ¨¡å‹é¡åˆ¥(Model)ï¼Œç‰¹åˆ¥åƒæ˜¯ MVC çš„å°ˆæ¡ˆï¼Œè€Œç•¶è³‡æ–™è¦å„²å­˜åˆ°è³‡æ–™åº«æ™‚ï¼Œè³‡æ–™åº«éœ€è¦ç”¢ç”Ÿå°æ˜  Schema ä¾†å„²å­˜ã€‚é€™æ™‚åƒè¬åˆ¥é¦¬ä¸Šé–‹å§‹ï¼Œå…ˆç­è§£å¹¾å€‹å°ˆæœ‰åè© code firstã€model firstã€database firstï¼Œç„¶å¾Œï¼Œå†åˆ©ç”¨è‡ªå‹•ç”Ÿæˆå·¥å…·ä¾†æ¸›å°‘ä½ çš„å·¥ä½œï¼Œå·¥å…·åƒæ˜¯ PMC Tool - Migrationsã€POCO Entity \u0026hellip;ã€‚\nä¸éé€™äº›å·¥å…·ï¼Œå€‹äººè¦ºå¾—åœ¨ mac ä¸Šï¼Œä½¿ç”¨èµ·ä¾†ä¸æ˜¯å¾ˆé †æ‰‹ï¼Œå€‹äººè¼ƒç¿’æ…£ä½¿ç”¨ CLI Tool çš„æ–¹å¼ï¼Œæ¥ä¸‹ä¾†ç”¨å€‹å¯¦ä¾‹èªªæ˜åå‘å·¥ç¨‹ï¼Œå¦‚ä½•ç”¨ MySQL Schema ç”Ÿæˆæ¨¡å‹é¡åˆ¥åˆ°å°ˆæ¡ˆä¸­ã€‚\næˆ‘æ‰€ä½¿ç”¨çš„ç’°å¢ƒï¼š\n Mac Visual Studio Code dotnet core 3.0 dotnet-ef Makefile  Installing è«‹å…ˆå»ºç«‹å¥½ä½ çš„ dotnet projectï¼Œç„¶å¾Œç¢ºèªå·²å®‰è£ï¼š\n CLI Tool\nå®‰è£ dotnet-ef å·¥å…·ï¼Œç”¨ä¾†ä½œæ¨¡å‹ç§»è½‰ã€‚ 1  dotnet tool install --global dotnet-ef    Database Provider\næˆ‘æ‰€ä½¿ç”¨çš„æ˜¯ MySQLï¼Œéœ€å®‰è£ MySql è³‡æ–™åº«æä¾›è€…ã€‚ 1  dotnet add package Pomelo.EntityFrameworkCore.MySql    PROVIDER\n  EntityFrameworkCore.Design\nå¦‚æœä½ æ˜¯ä½¿ç”¨ .NET Core 2.1 ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œ.NET Core SDK å·²åŒ…å« Designï¼Œå¯è·³éé€™ä¸€æ­¥ã€‚ 1  dotnet add package Microsoft.EntityFrameworkCore.Design     Scaffold ç•¶è³‡æ–™åº«å’Œå·¥å…·æº–å‚™å®Œæˆï¼Œé€é dbcontext scaffold æŒ‡ä»¤ä¾†é€²è¡Œåå‘å·¥ç¨‹ï¼Œå®ƒæœƒè®€å–è³‡æ–™åº«çš„è³‡è¨Šï¼Œåƒ tables, columns, constraints, and indexes \u0026hellip;ï¼Œç„¶å¾Œç”Ÿæˆ DbContext.cs å’Œ Models.csã€‚\n1  dotnet ef dbcontext scaffold \u0026#34;server=127.0.0.1;port=3306;user=root;password=pwd;database=db\u0026#34; Pomelo.EntityFrameworkCore.MySql   Script æœ€å¾Œï¼Œå»ºç«‹ makefile è…³æœ¬æŒçºŒæ›´æ–°æ¨¡å‹\n1 2 3 4 5 6  efScaffold: dotnet ef dbcontext scaffold \u0026#34;server=127.0.0.1;port=3306;user=root;password=pwd;database=db\u0026#34; \\  Pomelo.EntityFrameworkCore.MySql \\  -o Repositories/Entities \\  --context-dir Repositories -c LotteryContext \\  -p src -f   Reference Side Project\nReverse Engineering\n","description":"åˆ©ç”¨ dotnet-ef å¯¦ä½œ DB åå‘å·¥ç¨‹","id":2,"section":"posts","tags":["EF"],"title":"ç”¨ dotnet ef å·¥å…·ï¼Œå¾ MySQL è‡ªå‹•ç”Ÿæˆ Model.cs","uri":"https://reddtsai.github.io/zh/posts/dotnet_efreverse/"},{"content":"å¾Œç«¯å·¥ç¨‹å¸«çš„å·¥ä½œä¸­å¾ˆå¸¸éœ€è¦ä¸€å€‹å¸¸é§ç¨‹å¼ï¼Œå¹«æˆ‘å€‘è™•ç†éå³æ™‚çš„å·¥ä½œæˆ–ä¾‹è¡Œæ€§çš„æ’ç¨‹å·¥ä½œï¼Œåœ¨ Windows Sever ä¸­æœ‰å¤§å®¶ç†Ÿæ‚‰çš„æœå‹™å’Œå·¥ä½œæ’ç¨‹ï¼Œé‚£ Unix-Like Server å‘¢ï¼Ÿï¼Ÿä½ å¯èƒ½å¸¸å¸¸è½åˆ° Daemon (å®ˆè­·)ï¼Œå¾ˆé›£è·Ÿ Service è¯æƒ³åœ¨ä¸€èµ·ï¼Œåœ¨ Unix-Like ç³»çµ±ä¸­å¸¸æœƒå°‡èƒŒæ™¯ç¨‹å¼ç¨±ä½œ Daemonã€‚æ¥ä¸‹ä¾†é€éå·¥ä½œä¸Šçš„å¯¦ä¾‹ä¾†èªªèªªé€™å€‹ Daemonã€‚é€™å€‹å·¥ä½œéœ€æ±‚æ˜¯è¦åœ¨ Debian ä¸‹å®‰è£ cloud sql proxyï¼Œç„¶å¾Œï¼Œè¦å®ƒåœ¨èƒŒæ™¯åŸ·è¡Œï¼Œé–‹æ©Ÿæ™‚è‡ªå·±å•Ÿå‹•ï¼Œåœ¨é€™è£¡ä½œå€‹è¨˜éŒ„ ã€‚\nSystemd - æœå‹™ç®¡ç†æ©Ÿåˆ¶ é€™æ¬¡å·¥ä½œæ‰€ä½¿ç”¨çš„ç³»çµ±ç‚º Debianï¼Œåœ¨ Debian åŠå…¶å®ƒ Unix-Like ç³»çµ±ä¸­ï¼Œéƒ½æœ‰å€‹æœå‹™ç®¡ç†æ©Ÿåˆ¶ systemdï¼Œé€éé€™å€‹æ©Ÿåˆ¶ä¾†å•Ÿå‹•ã€é—œé–‰èˆ‡è§€å¯Ÿç³»çµ±æœå‹™æˆ–ä½ æ‰€è‡ªå®šçš„æœå‹™ã€‚\nå¯åˆ†ç‚ºå¹¾å€‹é¡å‹å¦‚ä¸‹ï¼š\n .service ä¸€èˆ¬æœå‹™ .socket ç¨‹åºè³‡æ–™äº¤æ› .target åŸ·è¡Œç’°å¢ƒ .mount æª”æ¡ˆç³»çµ±æ›è¼‰ .automount æª”æ¡ˆç³»çµ±æ›è¼‰ .path åµæ¸¬ç‰¹å®šæª”æ¡ˆæˆ–ç›®éŒ„ .timer å¾ªç’°åŸ·è¡Œ   å­˜æ”¾ä½ç½®\n/usr/lib/systemd/system/ï¼šå•Ÿå‹•è…³æœ¬è¨­å®šæª”\n/run/systemd/system/ï¼šåŸ·è¡Œéç¨‹ä¸­æ‰€ç”¢ç”Ÿçš„æœå‹™è…³æœ¬\n/etc/systemd/system/ï¼šç®¡ç†å“¡æ‰€å»ºç«‹çš„åŸ·è¡Œè…³æœ¬\n é‚£è¦æ€éº¼å°‡ cloud sql proxy åŠ å…¥ systemd ä¸­ï¼Ÿï¼Ÿ\næœ¬æ¬¡æœƒä½¿ç”¨ä¸€èˆ¬æœå‹™ cloud_sql_proxy.serviceï¼Œå°‡æª”æ¡ˆæ”¾å…¥å•Ÿå‹•ä½ç½® /etc/systemd/system/ã€‚\nç¯„ä¾‹ /etc/systemd/system/cloud_sql_proxy.service\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  # æœå‹™è§£é‡‹ã€ç›¸ä¾æ€§ [Unit] Description=Connecting MySQL Client from Compute Engine using the Cloud SQL Proxy Requires=networking.service After=networking.service # æœå‹™åŸ·è¡Œçš„æŒ‡ä»¤åƒæ•¸ [Service] WorkingDirectory=/usr/local/bin ExecStart=/usr/local/bin/cloud_sql_proxy -dir=/var/run/cloud-sql-proxy -instances=redd-side-project:asia-east1:db-mysql-001=tcp:3306 Restart=always StandardOutput=journal User=root # è¦æ›è¼‰å“ªå€‹ target åº•ä¸‹ [Install] WantedBy=multi-user.target   Systemctl - æœå‹™ç®¡ç†æŒ‡ä»¤ åˆæ­¥èªè­˜ systemd å¾Œï¼Œé‚„éœ€èªè­˜ä¸€å€‹ç®¡ç†ç¨‹å¼ systemctlï¼Œä¸»è¦æœƒé€é systemctl çš„æŒ‡ä»¤ä¾†è™•ç†æˆ‘å€‘çš„æœå‹™ã€‚\næ¥ä¸‹ä¾†é€é systemctl ä¾†æ“æ§ cloud_sql_proxy.serviceã€‚\nå•Ÿç”¨/åœç”¨ï¼Œä¸‹æ¬¡é–‹æ©Ÿç”Ÿæ•ˆ\n1 2  sudo systemctl enable cloud-sql-proxy.service sudo systemctl disable cloud-sql-proxy.service   ç«‹åˆ»å•Ÿå‹•/é—œé–‰\n1 2  sudo systemctl start cloud-sql-proxy.service sudo systemctl stop cloud-sql-proxy.service   åˆ—å‡ºç‹€æ…‹\n1  sudo systemctl status cloud-sql-proxy.service   å¸¸ç”¨æŒ‡ä»¤\n1 2 3 4 5 6 7 8 9 10  -- é‡æ–°è¼‰å…¥è¨­å®šæª” sudo systemctl daemon-reload -- åˆ—å‡ºæ‰€æœ‰å•Ÿå‹•çš„ unit sudo systemctl -- åˆ—å‡ºæ‰€æœ‰ .service sudo systemctl list-units --type=service --all -- åˆ—å‡ºæ‰€æœ‰ cpu ç‚ºå .service sudo systemctl list-units --type=service --all | grep cpu -- åˆ—å‡ºç›¸ä¾ sudo systemctl list-dependencies   åˆ°é€™é‚Šå°±å®Œæˆäº†é€™æ¬¡çš„å·¥ä½œä»»å‹™ï¼Œå°‡ cloud_sql_proxy.service åœ¨èƒŒæ™¯åŸ·è¡ŒåŠé–‹æ©Ÿæ™‚è‡ªå·±å•Ÿå‹•ã€‚\nTimer - æ’ç¨‹ ä¸€é–‹å§‹é™¤äº†æœå‹™ï¼Œé‚„æœ‰æåˆ°ä¾‹è¡Œæ€§çš„æ’ç¨‹å·¥ä½œï¼Œé‚£è¦æ€éº¼ä½¿æœå‹™å®šæœŸåŸ·è¡ŒæŸå€‹å·¥ä½œï¼Ÿï¼Ÿç¾å­¸ç¾è³£ï¼Œæ‹¿ systemd.timer ä¾†ä½œå€‹å¯¦ä¾‹(å¤§å¤šæ•¸çš„è³‡è¨Šéƒ½æœƒç”¨ crond ä¾†å®šæœŸè™•ç†æœå‹™ğŸ˜¸ğŸ˜¸)ã€‚\næˆ‘å¸Œæœ›æ¯æ—¥åŸ·è¡Œä¸€æ¬¡æˆ‘çš„ APP\n å•Ÿå‹•ç³»çµ± timer.target app.service ä½ çš„å·¥ä½œ app.timer ä½ çš„æ’ç¨‹(èˆ‡ä½ çš„å·¥ä½œåŒå)\nç¯„ä¾‹ side project\n/etc/systemd/system/app.service  1 2 3 4 5 6 7  [Unit] Description=taiwan lottery scarper [Service] WorkingDirectory=/opt/app/gce/env/bin ExecStart=/opt/app/gce/env/bi/python /opt/app/app.py [Install] WantedBy=multi-user.target   /etc/systemd/system/app.timer\n1 2 3 4 5 6 7 8 9  [Unit] Description=scheduling taiwan lottery scarper [Timer] OnActiveSec=1m OnCalendar=Sun *-*-* 01:00:00 Persistent=true Unit=lotto-scraper.service [Install] WantedBy=multi-user.target   Reference é³¥å“¥\n","description":"å°‡ cloud sql proxy åŠ å…¥ç³»çµ±æœå‹™","id":3,"section":"posts","tags":["Daemon","Debian"],"title":"ç³»çµ±æœå‹™ In Debian","uri":"https://reddtsai.github.io/zh/posts/os_debiandaemon/"},{"content":"ä¸è«–å…¬å¸ project æˆ–å€‹äºº side projectï¼Œéƒ½æœƒé‡åˆ°è³‡æ–™å„²å­˜çš„éœ€æ±‚ï¼Œé€™æ™‚å¯èƒ½å°±æ˜¯\n æ±‚ DBA è‡ªå·±å®‰è£ å‘ Infra ç”³è«‹ é–‹å§‹å­¸ SQL Google  Why Cloud SQl æˆ‘ç‚ºä»€éº¼é¸æ“‡ Cloud SQlï¼ŸåŸå› åªæœ‰ä¸€å€‹ï¼Œå°±æ˜¯å¿«\n å®‰è£å¿« ä¸Šæ‰‹å¿« æ“´å±•å¿« é‹ç¶­å¿«  é€™è£¡æœƒç”¨ GCP æä¾›çš„ Cloud SQl ä¾†èªªæ˜ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥é¸æ“‡ AWSã€Azureã€é˜¿é‡Œé›²çš„ç”¢å“ã€‚\nInstall MySQL å®‰è£å¿«ï¼Œåªéœ€å¹¾åˆ†é˜å°±èƒ½å»ºç«‹ä¸€å° DBã€‚é–‹å§‹å®‰è£å‰ä½ éœ€è¦å…ˆæœ‰ï¼š\n å•Ÿç”¨ Google Cloud (ä½ éœ€è¦ä¸€çµ„ Google å¸³æˆ¶å’Œä¸€å¼µä¿¡ç”¨å¡) å®‰è£ cloud SDK  1  brew cask install google-cloud-sdk   å®‰è£ DB åªéœ€é–‹å•Ÿçµ‚ç«¯æ©Ÿï¼ŒåŸ·è¡Œä¸‹æ®µå‘½ä»¤ã€‚\n1  gcloud sql instances create [INSTANCE_NAME] --tier=[MACHINE_TYPE] --region=[REGION]      INSTANCE_NAMEï¼šå‘½åä½ çš„ Database instanceã€‚\n  MACHINE_TYPEï¼šDatabase è¦æ ¼ã€‚Price\n  REGIONï¼šInstance å­˜æ”¾ä½ç½®ã€‚Region\nCreating instances èªªæ˜\n   å¦å¤–ï¼Œä½ ä¸ç¿’æ…£å†·å†°å†°çš„å‘½ä»¤ï¼ŒGCP ä¹Ÿæä¾› UI ä»‹é¢è®“ä½ è¨­å®šã€‚\nConnection ä¸Šæ‰‹å¿«ï¼Œä½ å¯å¿«é€Ÿé€£è‡³ cloud databaseï¼Œå®˜æ–¹æä¾›å¤šç¨®æ–¹å¼åŠå„ç¨‹å¼èªè¨€çš„å®Œæ•´ç¯„ä¾‹èªªæ˜ï¼Œæ¸›å°‘ä½ æ‘¸ç´¢çš„æ™‚é–“ã€‚\né€™è£¡ä»‹ç´¹é€é cloud sql proxy å¿«é€Ÿé€£åˆ°å‰›å»ºç«‹çš„ DBã€‚é¦–å…ˆï¼Œå®‰è£ cloud sql proxy\n1 2  gcloud components install cloud_sql_proxy ./cloud_sql_proxy -instances=\u0026lt;INSTANCE_CONNECTION_NAME\u0026gt;=tcp:3306   å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œä½ å¯ä»¥æ‰¾åˆ° INSTANCE_CONNECTION_NAME\nå†ä¾†ä½¿ç”¨ MySQL workbench ä¾†ä½œå€‹æœ¬æ©Ÿé€£ç·šæ¸¬è©¦ï¼Œå¦‚æœä½ é‚„æ²’å®‰è£ï¼Œè«‹å…ˆé€éä»¥ä¸‹å‘½ä»¤ä¾†å®‰è£ã€‚\n1  brew cask install mysqlworkbench   Replication æ“´å±•å¿«ã€é‹ç¶­å¿«ï¼Œç•¶ä½ åˆæ­¥èªè­˜ SQL å¾Œï¼Œå†é€²éšå°±æ˜¯æ•ˆèƒ½è·Ÿç©å®šï¼Œæœ€é•·è½åˆ°çš„å°±æ˜¯ HA(high availability)ï¼Œè€Œåœ¨ cloud sql ä½ ä¹Ÿåªéœ€è¦ä½œç°¡å–®çš„è¨­å®šä¾†é€¹æˆ HAï¼Œè®“ä½ çš„ DB æ“æœ‰å‚™æ´ã€‚\nå¦ä¸€å€‹ä¾‹å­ï¼Œåœ¨ cloud sql æ–°å¢ä¸€å€‹è®€å–ä½ç½®ï¼Œåˆ†æ•£æµé‡ä¾†æå‡æ•ˆèƒ½ã€‚\nReference æœ¬æ¬¡å¯¦ä½œçš„è²»ç”¨\ncloud sql for mysql\n","description":"Cloud SQl for MySQL on Google Cloud Platform","id":4,"section":"posts","tags":["MySQL"],"title":"åœ¨é›²ä¸Šä½¿ç”¨ MySQL","uri":"https://reddtsai.github.io/zh/posts/gcp_mysql/"},{"content":"èº«ç‚ºä¸€ä½è»Ÿé«”å·¥ç¨‹å¸«æ€éº¼å¯ä»¥æ²’æœ‰ Blogï¼Œå†åŠ ä¸Šå·¥ç¨‹å¸«æœ€æ„›æŒ–æ´çµ¦è‡ªå·±è·³ï¼Œæ‰€ä»¥ä¸€å®šè¦è‡ªå·±æ¶BlogğŸ˜­ğŸ˜­ğŸ˜­ã€‚é€™è£¡è·Ÿå¤§å®¶ä»‹ç´¹å€‹éœæ…‹ç¶²ç«™ç”Ÿæˆå¼•æ“ HUGOï¼Œæ¥è‘—é€é HUGO ä¾†å»ºç«‹ä¸€å€‹ç¾ç¾åˆå…è²»çš„Blogã€‚\nAbout Hugo HUGO æ˜¯ç”± go æ‰€ç·¨å¯«çš„éœæ…‹ç¶²ç«™ç”Ÿæˆå™¨ï¼Œæœ€åˆç”± Steve Francia å‰µç«‹ï¼Œä»¥é–‹æºå°ˆæ¡ˆæ–¹å¼æŒçºŒæ›´æ–°ã€‚Hugo æä¾›å°‡è³‡æ–™æª”æ¡ˆã€i18n åŒ…ã€çµ„æ…‹ã€å¸ƒå±€æ¨¡æ¿ã€éœæ…‹æª”æ¡ˆï¼Œä»¥åŠç”¨ Markdown ç·¨å¯«çš„å…§å®¹ï¼Œç”Ÿæˆä¸€å€‹å®Œæ•´çš„éœæ…‹ç¶²ç«™ã€‚\nCreate a Hugo site ä»¥ä¸‹èªªæ˜ä½ å¯èƒ½éœ€è¦ä¸€é»ç¨‹å¼åŸºæ¥šï¼Œé€™è£¡æœƒä½¿ç”¨ mac os ä¾†ä½œèªªæ˜ã€‚(å€‹äººæ˜¯ä½¿ç”¨è˜‹æœç­†é›»ğŸ˜…ğŸ˜…)\n1.å®‰è£ Hugo ä½¿ç”¨ homebrew å®‰è£ Hugoï¼Œåœ¨çµ‚ç«¯æ©Ÿä¸­è¼¸å…¥\n1  brew install hugo   é©—è¨¼å®‰è£æˆåŠŸï¼Œç¢ºèª hugo ç‰ˆæœ¬ã€‚\n1  hugo version   2.ç”¢ç”Ÿæ–°ç¶²ç«™ é€é new å‘½ä»¤ä¾†ç”¢ç”Ÿä¸€å€‹æ–°ç«™å°ï¼Œåœ¨çµ‚ç«¯æ©Ÿä¸­æ“ä½œ\ncd YourWorkSpace hugo new site myBlog 3.ç¾åŒ–ç¶²ç«™ åŠ å…¥å¤–è§€ä¸»é¡Œåˆ°å‰›å»ºç«‹å¥½çš„ç¶²ç«™ï¼Œåœ¨é€™æŒ‘é¸ä¸€å€‹å¤–è§€ä¸»é¡Œã€‚\næˆ‘ç”¨ Ananke ä¾†ä½œèªªæ˜ï¼Œåœ¨çµ‚ç«¯æ©Ÿä¸­æ“ä½œ\n1 2 3  cd myBlog git init git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke   è¨­å®šä¸»é¡Œ\n1  echo \u0026#39;theme = \u0026#34;ananke\u0026#34;\u0026#39; \u0026gt;\u0026gt; config.toml   4.åŠ å…¥æ–‡ç«  ä½¿ç”¨ new å‘½ä»¤ä¾†ç”¢ç”Ÿä¸€ç¯‡æ–‡ç« ï¼Œåœ¨çµ‚ç«¯æ©Ÿä¸­æ“ä½œ\n1  hugo new posts/my-first-post.md   ä½ å¯ä»¥ç”¨ markdown ç·¨è¼¯å…§å®¹ã€‚\n5.å•Ÿå‹•ç¶²ç«™ å•Ÿå‹•ä½ çš„ Blog\n1  hugo server -D   æ‰“é–‹ç€è¦½å™¨ http://localhost:1313/\nåƒè€ƒä¾†æº è¬è¬ HUGO\n","description":"é€éHUGOå»ºç«‹Blog","id":5,"section":"posts","tags":["Hugo"],"title":"å»ºç«‹å…è²»çš„å€‹äººåšå®¢ By HUGO","uri":"https://reddtsai.github.io/zh/posts/hugo_hello/"},{"content":"Helloï¼Œå¤§å®¶å¥½æˆ‘æ˜¯Reddï¼Œæ˜¯ä½ç¶²è·¯å¾Œç«¯è»Ÿé«”å·¥ç¨‹å¸«(Internet Backend Engineer)ï¼Œåœ¨æ­¤ä¸€é‚Šè¨˜éŒ„ä¸¦èˆ‡å¤§å®¶åˆ†äº«è‡ªå·±çš„å·¥ä½œç¶“é©—ã€‚\n","description":"about page of Redd's side project","id":6,"section":"","tags":null,"title":"About","uri":"https://reddtsai.github.io/zh/about/"},{"content":"Elastic æä¾›ä¸€å€‹å¼·å¤§çš„ UI ä»‹é¢ Kibanaï¼Œé€éå®ƒèƒ½æ›´æœ‰æ•ˆçš„åˆ†äº«èˆ‡å‘ˆç¾ Elasticsearch ä¸­çš„æ•¸æ“šï¼Œæ¥ä¸‹ä¾†æœƒä»¥æœ¬èº«ä½¿ç”¨çš„æ¡ˆä¾‹ï¼Œä¾†ä»‹ç´¹å¦‚ä½•ä½¿ç”¨ Kibanaã€‚\n ç‰ˆæœ¬\n Kibana 6\nå®‰è£è«‹åƒè€ƒä¸‹ä¸€ç¯‡æ–‡ç« CentOS 7 å¦‚ä½•å®‰è£ Kibana   Discover Page æ•¸æ“šæ¢ç´¢åŠŸèƒ½ï¼Œä½¿ç”¨ Elasticsearch Indexã€Time Range å’Œ Query DSL éæ¿¾æœç´¢ï¼Œé¡¯ç¤ºæ•¸æ“šè¨ˆæ•¸å’Œå…§ä†Ÿ\n æ³¨æ„\nå¦‚æœé‡åˆ° no cached mapping for this field\nè©¦è‘—åœ¨ Managementï¼ŒRefresh field list\n Dashboard Page å„€è¡¨ç‰ˆåŠŸèƒ½ï¼ŒKibana æä¾›å¤šæ¨£è¦–è¦ºåŒ–åœ–è¡¨ï¼Œå„€è¡¨ç‰ˆå¯å¹«åŠ©ä½ æ”¶é›†ç®¡ç†é€™äº›åœ–è¡¨\nLogs Page æ•¸æ“šåŠŸèƒ½ï¼Œé¡¯ç¤ºåŒ¯å…¥çš„æ•¸æ“š\nQuery DSL Elastic æä¾›äº†ä¸€å¥—æŸ¥è©¢èªæ³• DSL (Domain Specific Language)ï¼Œå¯é€é RESTful æˆ– Kibana çš„ä»‹é¢ä¾†ä½¿ç”¨ï¼Œé€™é‚Šä»‹ç´¹å¹¾å€‹ç¯„ä¾‹\n  Match\nä¾‹å¦‚æŸ¥è©¢ IIS ä¸­ï¼Œæœ‰é‚£äº› Request å›æ‡‰ 500\n GET /_search { \u0026quot;query\u0026quot;: { \u0026quot;match\u0026quot;: { \u0026quot;iis.access.response_code\u0026quot;: { \u0026quot;query\u0026quot;: 500, \u0026quot;type\u0026quot;: \u0026quot;phrase\u0026quot; } } } }    Wildcard\nä¾‹å¦‚æŸ¥è©¢ IIS ä¸­ï¼Œæœ‰é‚£äº› Request url like */app/\n GET /_search { \u0026quot;query\u0026quot;: { \u0026quot;wildcard\u0026quot;: { \u0026quot;iis.access.url\u0026quot;: \u0026quot;*/app\u0026quot; } } }    Prefix\nä¾‹å¦‚æŸ¥è©¢ IIS ä¸­ï¼Œurl ä»¥ /en/app é–‹é ­çš„ Request æœ‰é‚£äº›\n GET /_search { \u0026quot;query\u0026quot;: { \u0026quot;prefix\u0026quot;: { \u0026quot;iis.access.url\u0026quot;: \u0026quot;/en/app\u0026quot; } } }    åƒè€ƒ Elastic å®˜ç¶²\n","description":"ä»‹ç´¹ Kibana å€‹äººæ‡‰ç”¨å¯¦ä¾‹","id":7,"section":"posts","tags":["Kibana"],"title":"å¦‚ä½•ä½¿ç”¨ Kibana åˆ†äº«æ—¥èªŒ","uri":"https://reddtsai.github.io/zh/posts/elk_kibana/"},{"content":"ç‰ˆæœ¬\n Filebeat 6\nç’°å¢ƒ Windows 10  1. ä¸‹è¼‰ Filebeat Download Filebeat for Windows\n2. å®‰è£ Filebeat è§£å£“ç¸®è‡³ C:\\Program Files\\Filebeatï¼Œä»¥ admin è§’è‰²é–‹å•Ÿ PowerShell\n1 2  cd \u0026#39;C:\\Program Files\\Filebeat\u0026#39; .\\install-service-filebeat.ps1   3. è¨­å®š Filebeat ç·¨è¼¯ filebeat.ymlï¼Œè¨­å®š elasticsearch å’Œ kibana çš„ä½ç½®\n1 2 3 4  output.elasticsearch: hosts: [\u0026#34;localhost:9200\u0026#34;] setup.kibana: host: \u0026#34;localhost:5601\u0026#34;   4. è¨­å®š Filebeat æ¨¡çµ„ æ”¶é›† IIS Log\nç·¨è¼¯ filebeat\\module\\iis\\access\\manifest.yml\n1 2 3  default.paths: default: - C:/inetpub/logs/LogFiles/*/*.log   å•Ÿç”¨ iis æ¨¡çµ„\n1  .\\filebeat.exe modules enable iis   5. å•Ÿå‹• Filebeat æœå‹™ 1 2  .\\filebeat.exe setup Start-Service filebeat   ","description":"ä»‹ç´¹åœ¨ Windows ä¸­å®‰è£ Filebeat","id":8,"section":"posts","tags":["Filebeat","Windows"],"title":"Windows å¦‚ä½•å®‰è£ Filebeat","uri":"https://reddtsai.github.io/zh/posts/elk_windowsfilebeat/"},{"content":"ç‰ˆæœ¬\n ElastAlert 0.2\nç’°å¢ƒ CentOS 7\nå®‰è£éœ€æ±‚ python 2.7 python-dev python-pip dependency Packageï¼Œåƒè€ƒ ElastAlert requirements.txt  1. å®‰è£ PIPã€DEV ç¢ºèªæ˜¯å¦å·²å®‰è£ python 2.7\n1  python --version   å®‰è£ python-pip\n1 2 3 4 5  sudo yum -y install python-devel sudo yum -y install epel-release sudo yum -y install python-pip pip --version sudo pip install --upgrade pip   2. å®‰è£ ElastAlert ç¢ºèªå¥—ä»¶ï¼Œå®‰è£çš„éç¨‹ä¸­å¯èƒ½æœƒé‡åˆ°ç›¸ä¾å¥—ä»¶çš„å•é¡Œï¼Œè«‹åƒè€ƒ ElastAlert requirements.txt ä¸­çš„éœ€æ±‚å¥—ä»¶æ¸…å–®\n1  pip list   ä¾‹å¦‚ï¼Œåœ¨å®‰è£ blist å¥—ä»¶æ™‚ï¼Œéœ€è¦å®‰è£ GCC\n1  sudo yum -y install gcc   ä¾‹å¦‚ï¼Œåœ¨æ›´æ–° requests å¥—ä»¶æ™‚ï¼Œéœ€è¦å¼·åˆ¶ç§»é™¤å®‰è£\n1  sudo pip install requests --ignore-installed requests   å®‰è£ ElastAlert\n1  sudo pip install elastalert   3. è¨­å®š ElastAlert åœ¨ ElastAlert ç›®éŒ„ä¸‹æ–°å¢è¨­å®šæª” config.yamlã€‚ä»¥æˆ‘çš„ç’°å¢ƒç‚ºä¾‹ /usr/lib/python2.7/site-packages/elastalert\nå»ºè­°è¤‡è£½ ElastAlert config.yaml.example\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  # This is the folder that contains the rule yaml files# Any .yaml file will be loaded as a rulerules_folder:/usr/lib/python2.7/site-packages/elastalert/alert_rules# How often ElastAlert will query Elasticsearch# The unit can be anything from weeks to secondsrun_every:# seconds:minutes:1# hours:# ElastAlert will buffer results from the most recent# period of time, in case some log sources are not in real timebuffer_time:minutes:15# The Elasticsearch hostname for metadata writeback# Note that every rule can have its own Elasticsearch hostes_host:elasticsearch.example.com# The Elasticsearch portes_port:9200# elastalert-create-index to set a mappingwriteback_index:elastalert_statusalert_time_limit:days:2  4. è¨­å®š Elasticsearch Client ç¢ºèª Elasticsearch Client çš„ç‰ˆæœ¬å’Œ Elasticsearch çš„ç‰ˆæœ¬ç›¸ç¬¦ã€‚ä»¥æˆ‘çš„ç’°å¢ƒç‚ºä¾‹ï¼Œéœ€è¦å°‡ lasticsearch Client æ›´æ–°è‡³ 6.X ç‰ˆ\n1 2 3  pip list sudo pip uninstall elasticsearch sudo pip install \u0026#34;elasticsearch\u0026lt;7\u0026#34;   åœ¨ Elasticsearch å¢åŠ ä¸€å€‹ ElastAlert çš„ç´¢å¼•\n1  elastalert-create-index   5. è¨­å®šé€šçŸ¥è¦å‰‡ æ–°å¢é€šçŸ¥è¦å‰‡è¨­å®šæª” filebeat_frequency.yamlã€‚ä»¥æˆ‘çš„ç’°å¢ƒç‚ºä¾‹ /usr/lib/python2.7/site-packages/elastalert/alert_rules\né€™è£¡ä»¥ IIS Log ç‚ºä¾‹ï¼Œç•¶ http status != 200 æ™‚ï¼Œç™¼é€ä¸€å€‹è¨Šæ¯è‡³ Slack\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  es_host:elasticsearch.example.comes_port:9200name:Examplefrequencyruletype:frequencyindex:filebeat-*# (Required, frequency specific)# Alert when this many documents matching the query occur within a timeframenum_events:50# (Required, frequency specific)# num_events must occur within this amount of time to trigger an alerttimeframe:hours:4filter:- query:query_string:query:\u0026#34;NOT iis.access.response_code: 200 AND event.dataset: iis.access\u0026#34;alert:- slack:slack_webhook_url:\u0026#34;http://slack_webhook_url\u0026#34;  æ¸¬è©¦è¦å‰‡è¨­å®šæª”\n1  elastalert-test-rule alert_rules/filebeat_frequency.yaml   6. è¨­å®š ElastAlert æœå‹™ åŸ·è¡Œæ¸¬è©¦\n1  python -m elastalert --verbose --rule alert_rules/filebeat_frequency.yaml   æ–°å¢æœå‹™\n1 2 3 4  sudo mkdir -p /etc/elastalert/rules cd /etc/elastalert/ sudo cp /usr/lib/python2.7/site-packages/elastalert/config.yaml config.yaml sudo cp /usr/lib/python2.7/site-packages/elastalert/alert_rules/filebeat_frequency.yaml rules/filebeat_frequency.yaml   ä¿®æ”¹ config.yaml\nrules_folder: /etc/elastalert/rules\næ–°å¢æœå‹™è¨­å®šæª”\n1 2  cd /etc/systemd/system/ sudo vi elastalert.service   elastalert.service\n1 2 3 4 5 6 7 8 9 10 11 12  [Unit] Description=elastalert [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/usr/lib/python2.7/site-packages/elastalert ExecStart=/usr/bin/elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/filebeat_frequency.yaml [Install] WantedBy=multi-user.target   å•Ÿå‹•æœå‹™\n1 2 3  sudo systemctl enable elastalert.service sudo systemctl start elastalert.service sudo systemctl status elastalert.service   åƒè€ƒ ElastAlert Repo\nElastAlert Doc\n","description":"ä»‹ç´¹åœ¨ CentOS ä¸­å®‰è£ ElastAlert","id":9,"section":"posts","tags":["ElastAlert","CentOS"],"title":"CentOS 7 å¦‚ä½•å®‰è£ ElastAlert","uri":"https://reddtsai.github.io/zh/posts/elk_centoselastalert/"},{"content":"å¾äº‹è»Ÿé«”å·¥ç¨‹å¸«çš„å·¥ä½œåå¹´äº†ï¼Œè¢«ç¨±éè»Ÿé«”å·¥ç¨‹å¸«(PG)ã€ç ”ç™¼å·¥ç¨‹å¸«(RD)ã€å¾Œç«¯å·¥ç¨‹å¸«(Backend)ã€ç³»çµ±è¨­è¨ˆå¸«(SD)ã€ç³»çµ±æ¶æ§‹å¸«(SA) \u0026hellip;ï¼Œé›–ç„¶è·ç¨±ä¸€ç›´å†è®Šï¼Œä½†è‡ªå·±æ„Ÿè¦ºå·¥ä½œå…§å®¹ä¸¦ç„¡å¤ªå¤§çš„æ”¹è®Šï¼Œæœ€è¿‘å‰›å¥½çœ‹åˆ°ä¸€ç¯‡æœ‰è¶£çš„æ–‡ç« ï¼Œæ˜¯é—œæ–¼è»Ÿé«”é–‹ç™¼è€…çš„ Roadmapï¼Œä¸¦è·Ÿè‡ªå·±ä½œå€‹æ¯”è¼ƒã€‚\nNowadays Web Developer ä»Šå¹´5Gä¸Šå¸‚äº†ï¼Œåœ¨é€™å€‹ç¶²è·¯ä¸–ä»£ï¼Œæˆ‘çªç„¶æˆäº† web developerï¼Œåˆ°åº•ä»€éº¼æ˜¯ web developerï¼Ÿç”¨Kamran Ahmedçš„åœ–å¯çœ‹å‡ºç¾ä»Š web developer å¤§è‡´å¯åˆ†ç‚º backendã€frontendåŠ devopsã€‚å¦å¤–ä¹Ÿåˆ—å‡ºäº† web developer éœ€å…·å‚™çš„æŠ€èƒ½ã€‚\nBackend Skill Tree å¾Œç«¯åœ¨æä»€éº¼ï¼Ÿçœ‹å®Œä¸‹æ–¹ Backend Roadmap é‚„æƒ³ç•¶å¾Œç«¯å·¥ç¨‹å¸«å—ï¼Ÿè‡ªå·±ä¹Ÿæ˜¯å¾Œç«¯å·¥ç¨‹ï¼Œé‚£å°±é€éé€™å¼µåœ–ä¾†ç›¤é»ä¸€ä¸‹è‡ªå·±(çœ‹çœ‹è‡ªå·±æœ‰å¤šçˆ½ğŸ¤¥)ã€‚\nä»¥å€‹äººç¶“é©—å°‡é€™å¼µ Roadmap åˆ†ç‚ºä»¥ä¸‹å¹¾å€‹å¤§é …\n Data Transfer\nDNSã€FTPã€HTTPã€TCPã€RPC \u0026hellip; Data Storage\nCacheã€Databaseã€File \u0026hellip; Host\nDomainã€OSã€Dockerã€IISã€Nginxã€AWSã€GCPã€Azures \u0026hellip; Programming\nPythonã€Golangã€.NETã€Node.jsã€Git\u0026hellip; Test\nUnitã€Intergration Deployment\nCIã€CD Other\nLogã€Monitorã€Elastic  ç¶“ä»¥ä¸Šé€™äº›é …ç›®ä¾†ç›¤é»è‡ªå·±æ˜¯ä¸æ˜¯å€‹å¾Œç«¯å·¥å¸«çš„åŒæ™‚ï¼Œä¹Ÿç”¨å®ƒè¨˜éŒ„åˆ†äº«ä¸€äº›å¯¦ä¾‹å’Œå€‹äººç¶“é©—(å¸Œæœ›æœªä¾†èƒ½è£œå®ŒğŸ™ğŸ™ğŸ™)ã€‚\nä»¥ä¸‹æ˜¯Kamran Ahmedæ‰€ç•«å¾Œç«¯å·¥ç¨‹å¸«çš„æŠ€èƒ½æ¨¹ã€‚\nFrontend Skill Tree å‰ç«¯åœ¨æä»€éº¼ï¼Ÿä»¥ä¸‹æ˜¯Kamran Ahmedæ‰€ç•«å‰ç«¯å·¥ç¨‹å¸«çš„æŠ€èƒ½æ¨¹ã€‚\nDevOps Skill Tree é‹ç¶­åœ¨æä»€éº¼ï¼Ÿä»¥ä¸‹æ˜¯Kamran Ahmedæ‰€ç•«é‹ç¶­å·¥ç¨‹å¸«çš„æŠ€èƒ½æ¨¹ã€‚\nReference åƒè€ƒä¾†æº\ndeveloper-roadmap by Kamran Ahmed.\n","description":"ç°¡ä»‹å¾Œç«¯å·¥ä½œå’ŒæŠ€èƒ½","id":10,"section":"posts","tags":["Backend"],"title":"å‰ç«¯ï¼Ÿå¾Œç«¯ï¼Ÿå¾Œç«¯å·¥ç¨‹å¸«æä»€éº¼ï¼Ÿ","uri":"https://reddtsai.github.io/zh/posts/backend_skill/"},{"content":"æ­·å² Elastic æ˜¯ç”± Elasticsearchã€Logstach å’Œ Kibana é€™ä¸‰å€‹é–‹æºé …ç›®æ‰€çµ„æˆï¼Œæœ€åˆæ˜¯ç”± Shay ç·¨å¯«çš„ Elasticsearch é€™å€‹é£Ÿè­œæœå°‹å¼•æ“é–‹å§‹ï¼Œå¾Œä¾†èˆ‡ Jordan é–‹ç™¼çš„ Logstach å’Œ Rashid é–‹ç™¼çš„ Kibana å…±åŒåˆä½œã€‚éš¨å¾Œæ¨å‡ºä¸€äº›å•†æ¥­æœå‹™ä¸¦æˆç«‹ Elastic é€™å€‹å“ç‰Œã€‚\nElasticsearch Elasticsearch æ˜¯å€‹æœå°‹åˆ†æå°‹å¼•æ“ï¼Œèƒ½å¤ é›†ä¸­å„²å­˜æ•¸æ“šå’Œåˆ†æ•£é‹ä½œï¼Œä½¿ç”¨ RESTful æ–¹å¼æä¾›æœå‹™ã€‚\nLogstach Logstach æ˜¯å€‹æ•¸æ“šè™•ç†å·¥å…·ï¼Œå°‡ä¸åŒä¾†æºçš„è³‡æ–™è½‰åŒ–ã€è§£ææˆ–åŠ å¯†ï¼Œç„¶å¾Œå°‡æ•¸æ“šç™¼é€è‡³æŒ‡å®šçš„å„²å­˜é«”ã€‚\nKibana Kibana ç‚º Elastic çš„ä»‹é¢(UI)ï¼Œå¯ç”¨ä¾†ç®¡ç†é…ç½® Elasticï¼Œæˆ–é€é DSLã€SQL æŸ¥è©¢èªæ³•ï¼Œå°‡ Elasticsearch æ•¸æ“šåˆ†äº«ã€‚\nåƒè€ƒä¾†æº Elastic å®˜ç¶²\nä¸‹ç¯‡æ–‡ç« æœƒä»‹ç´¹å¦‚ä½•åˆ©ç”¨ Elastic è™•ç†æ—¥èªŒ\n","description":"ä»‹ç´¹ Elastic å€‹äººæ‡‰ç”¨å¯¦ä¾‹","id":11,"section":"posts","tags":["Elastic"],"title":"Elastic ç°¡ä»‹","uri":"https://reddtsai.github.io/zh/posts/elk/"},{"content":"ç•¶ä½ é¢å°æ•¸å€‹è™›æ“¬æ©Ÿã€è³‡æ–™åº«ã€æˆç™¾çš„æœå‹™ã€æ‡‰ç”¨ç¨‹å¼ç”Ÿæˆçš„æ—¥èªŒï¼Œä½ éœ€è¦ä¸€å€‹èƒ½è™•ç†é€™å·¨é‡è² é›œæ—¥èªŒçš„ç”¢å“ï¼Œé€™è£¡ä»‹ç´¹ Elastic é€™å€‹ç”¢å“ä¾†å”åŠ©ä½ ï¼Œå¿…å…è‡ªå·±é€ è¼ªå­ã€‚å°‡ç”±ä¸‹åœ–çš„å…§å®¹ä¾†èªªæ˜ï¼Œå¦‚ä½•ä½¿ç”¨ Elastic è™•ç†æ—¥èªŒä½ çš„æ—¥èªŒã€‚\næ—¥èªŒæ”¶é›† é¦–å…ˆæ˜¯å¦‚ä½•æ”¶é›†åŒ¯æ•´ä½ çš„æ—¥èªŒï¼Ÿä¾‹å¦‚ä½ æœ‰ IISã€NGINXã€MySQLã€APP å¤šç¨®ä¸åŒé¡å‹çš„æ—¥èªŒï¼Œä½ éœ€è¦å°‡å®ƒå€‘æ”¶é›†èµ·ä¾†å­˜æ”¾ï¼Œé€™è£¡æœƒä½¿ç”¨ FileBeat å’Œ Logstash ä¾†æ”¶é›†ã€‚\n FileBeat æ˜¯åŒ¯æ•´è½‰ç™¼æ—¥èªŒå·¥å…·ï¼Œå¯ä½¿ç”¨å®ƒå…§å»ºæ¨¡çµ„æˆ–è‡ªè¨‚æ ¼å¼ä¾†æ”¶é›†æ—¥èªŒï¼Œä¸¦å°‡æ”¶é›†ä¾†çš„æ•¸æ“šè§£æç™¼é€åˆ° Logstash æˆ– Elasticsearch å„²å­˜ã€‚\n ç¯„ä¾‹å¦‚ä½•ä½¿ç”¨ Filebeat æ”¶é›†æ—¥èªŒ\n  Logstash æ˜¯æ¥æ”¶è½‰ç™¼æ—¥èªŒä¸­ä»‹æœå‹™ï¼Œå¾éæ¿¾å™¨æ¥æ”¶ä¸åŒå½¢å¼çš„ä¾†æºï¼Œé€éå»ºæ§‹çµæ§‹ä¾†åˆ†æè½‰æ›æˆé€šç”¨æ ¼å¼ï¼Œå†è¼¸å‡ºåˆ° Elasticsearch æˆ–å…¶å®ƒå„²å­˜è¨­å‚™ã€‚\næ—¥èªŒå­˜å„² æ¥ä¸‹ä¾†é€é Elasticsearch ä¾†å„²å­˜æ”¶é›†ä¾†çš„è³‡æ–™ã€‚\n Elasticsearch æ˜¯ä¸€å€‹åˆ†æ•£å¼ã€RESTful é¢¨æ ¼çš„æœå°‹å’Œæ•¸æ“šåˆ†æå¼•æ“ï¼Œå®ƒæ˜¯ Elastic çš„æ ¸å¿ƒï¼Œå¾ˆåƒè³‡æ–™åº«æä¾›æœç´¢å’Œå„²å­˜ã€‚\n ç¯„ä¾‹CentOS 7 å¦‚ä½•å®‰è£ Elasticsearch\n æ—¥èªŒåˆ†æ Elastc æä¾›ä¸€å€‹å¼·å¤§çš„ UI ä»‹é¢ Kibanaï¼Œå®ƒèƒ½å”åŠ©ä½ åˆ†æ è¦–è¦ºåŒ–ã€åˆ†äº«æ”¶é›†ä¾†çš„æ•¸æ“šã€‚\n Kibana æ˜¯å€‹å¼·å¤§çš„ UIï¼Œé€éç¶²é å‘ˆç¾ï¼Œæä¾›å¤šç¨®å„€è¡¨çš®å’Œåœ–è¡¨ä¾†åˆ†äº«æ•¸æ“šã€‚\n ç¯„ä¾‹å¦‚ä½•ä½¿ç”¨ Kibana åˆ†äº«æ—¥èªŒ\n æ—¥èªŒç›£æ§ æœ€å¾Œï¼ŒElastc ä¹Ÿæä¾›æ•¸æ“šã€æ•ˆèƒ½ç›£æ§æœå‹™ï¼Œé€™éƒ¨åˆ†å±¬æ–¼ç™½é‡‘æœå‹™éœ€è¦ä»˜è²»ï¼Œä¹Ÿæœ‰ä¸€äº›æ›¿ä»£æ–¹ï¼Œä¾‹å¦‚ ElastAlertã€Sentinlã€‚\n ç¯„ä¾‹CentOS 7 å¦‚ä½•å®‰è£ ElastAlert\n","description":"ä»‹ç´¹ Elastic å€‹äººæ‡‰ç”¨å¯¦ä¾‹","id":12,"section":"posts","tags":["Elastic"],"title":"å¦‚ä½•åˆ©ç”¨ Elastic è™•ç†æ—¥èªŒ","uri":"https://reddtsai.github.io/zh/posts/elk_logging/"},{"content":"Filebeat æ˜¯å€‹æª”æ¡ˆåˆ†æå·¥å…·ï¼Œæœ€å¸¸ç”¨ä¾†æ”¶é›†æ—¥èªŒæª”ï¼Œæ”¶é›†çš„éç¨‹åˆ†ç‚º\n æ”¶é›†æ•¸æ“š (è®€å–æ—¥èªŒ) è§£ææ•¸æ“š\nå¸¸è¦‹çš„æ—¥èªŒæ ¼å¼(IISã€NGINXã€MySQL)å¤§å¤šå¯é€é Filebeat å…§å»ºæ¨¡çµ„ä¾†è§£æï¼Œä¹Ÿå¯é€éæ–°å¢æ¨¡çµ„ä¾†å®¢è£½æ ¼å¼ï¼Œä»¥ä¸‹æœƒèªªæ˜è©²å¦‚ä½•æ–°å¢æˆ–è¨­å®š Filebeat æ¨¡çµ„ã€‚ å‚³é€æ•¸æ“š (Logstash æˆ– Elasticsearch å„²å­˜)   ç‰ˆæœ¬\n Filebeat 6\nå®‰è£è«‹åƒè€ƒä¸‹ä¸€ç¯‡æ–‡ç« Windows å¦‚ä½•å®‰è£ Filebeat   è¨­å®šæ¨¡çµ„ Filebeat æä¾›å¤šæ¨£æ¨¡çµ„ä¾†æ”¶é›†å¸¸è¦‹çš„æ—¥èªŒï¼Œé€™é‚Šä»¥ IIS æ—¥èªŒç‚ºä¾‹ï¼Œèªªæ˜å¦‚ä½•è¨­å®šæ¨¡çµ„ã€‚\n  è¨­å®šæ—¥èªŒè·¯å¾‘\nç·¨è¼¯ [Windows å®‰è£è·¯å¾‘]\\filebeat\\module\\iis\\access\\manifest.yml\n #åŠ å…¥ IIS æ—¥èªŒè·¯å¾‘ default.paths: default: - C:/inetpub/logs/LogFiles/*/*.log    å•Ÿç”¨æ¨¡çµ„\né–‹å•Ÿ IIS æ¨¡çµ„ï¼Œåœ¨ PowerShell åŸ·è¡Œä¸‹æ–¹å‘½ä»¤\n cd [Windows å®‰è£è·¯å¾‘] .\\filebeat.exe modules enable iis    æ–°å¢æ¨¡çµ„ æ–°å¢ä¸€å€‹æ¨¡çµ„å¾Œï¼Œå¯çœ‹åˆ°æ‰€ç”¢ç”Ÿçš„æª”æ¡ˆçµæ§‹ï¼Œä»¥ä¸‹æ–¹æˆ‘æ‰€å»ºç«‹çš„ nlog module ç‚ºä¾‹\nfilebeat\nâ”œ module\nâ”‚ â© nlog\nâ”‚ â© app\nâ”‚ â”œ manifest.yaml\nâ”‚ â”œ config\nâ”‚ â”‚ â© fileset.yml\nâ”‚ â© ingest\nâ”‚ â© pipeline.json\nâ”œ modules.d\nâ”‚ â© nlog.yml.disabled\n æ–°å¢ä¸€å€‹æ¨¡çµ„éœ€é€é Beats ç¨‹å¼ç¢¼ä¾†é€¹æˆï¼Œé€™è£¡åªæœƒèªªæ˜æ–°æ¨¡çµ„éœ€è¦ä½œé‚£äº›è¨­å®šï¼Œå®Œæ•´è³‡è¨Šè«‹åƒè€ƒ github Beats repository\n   manifest.yaml\nmanifest æ§åˆ¶æª”ï¼Œè¨­å®šæ¨¡çµ„åƒè€ƒä½ç½®\n #æ—¥èªŒè·¯å¾‘ var: ï¼ name: paths os.windows ï¼ C:/log/*.log #template åƒè€ƒè·¯å¾‘ input: config/fileset.yml #Ingest Pipeline åƒè€ƒè·¯å¾‘ ingest_pipeline: ingest/pipeline.json    fileset.yml\nfileset è¼¸å…¥çµ„æ…‹æª”ï¼Œè¨­å®šè¼¸å…¥ä½ç½®ã€æ’é™¤è¼¸å…¥æª”æ¡ˆã€æ’é™¤è¼¸å…¥è¡ŒåŠå¤šè¡Œçµ„åˆ\n #æ’é™¤ .gz æª” exclude_files: [\u0026quot;.gz$\u0026quot;]    pipeline.json\nlasticsearch ingest node pipeline configurations\n  modules.yml.disabled\næ¨¡çµ„é–‹é—œ\n  æ¸¬è©¦æ¨¡çµ„ æ–°å¢æˆ–è¨­å®šå¥½æ¨¡çµ„ï¼Œå…ˆç”±æ¸¬è©¦ç¢ºèªå®Œå¾Œå†ä¸Šç·š\n  æ¸¬è©¦è¨­å®šæª”\n.\\filebeat.exe test config -c filebeat.yml\n.\\filebeat.exe test output filebeat.yml\n  åŸ·è¡Œ Filebeat\n.\\filebeat.exe -e -c filebeat.yml -d \u0026ldquo;*\u0026rdquo;\n æ³¨æ„\nè«‹å…ˆæ¸…é™¤å‰æ¬¡æ¸¬è©¦æ‰€è®€å–çš„è¨˜éŒ„ï¼Œåˆªé™¤ç›®éŒ„ filebeat\\data\\registry\n   æª¢æŸ¥ Ingest \u0026amp; Pipeline\né€é elasticsearch api æŸ¥è©¢ Ingest \u0026amp; pipeline (ä¾‹å¦‚ IIS æ¨¡çµ„ pipeline filebeat-6.7.0-iis-access-default)\ncurl -X GET http://elasticsearch:9200/_cat/indices?v\ncurl -X GET http://elasticsearch:9200/_ingest/pipeline\ncurl -X GET http://elasticsearch:9200/_ingest/pipeline/filebeat-6.7.0-iis-access-default\n å¦‚æœæ¸¬è©¦ pipeline æœ‰å•é¡Œï¼Œéœ€è¦åˆªé™¤èˆŠçš„ pipeline.json\n  curl -X DELETE http://elasticsearch:9200/_ingest/pipeline/filebeat-6.7.0-iis-access-default    ç¢ºèªè³‡æ–™\né–‹å•Ÿ Kibanaï¼Œé€é Logs ä»‹é¢ï¼Œç¢ºèªæ˜¯å¦æœ‰é¡¯ç¤º log è³‡æ–™\n  åƒè€ƒ Elastic å®˜ç¶²\n","description":"é€é Filebeat æ”¶é›†ç³»çµ±ã€æ‡‰ç”¨ç¨‹å¼ Log","id":13,"section":"posts","tags":["Filebeat"],"title":"å¦‚ä½•ä½¿ç”¨ Filebeat æ”¶é›†æ—¥èªŒ","uri":"https://reddtsai.github.io/zh/posts/elk_iisfilebeat/"},{"content":"ç‰ˆæœ¬\n Kibana 6.8\nç’°å¢ƒ CentOS 7  1. å®‰è£ OpenJDK 1 2  sudo yum install java-1.8.0-openjdk-devel java -version   2. å®‰è£ Elasticsearch ç°½ç« å…¬é‘° 1  rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch   3. å®‰è£ Kibana å»ºç«‹ Kibana å¥—ä»¶å®¹å™¨è¨­å®šæª” /etc/yum.repos.d/kibana.repo\nå¡«å…¥å¥—ä»¶å®¹å™¨åƒæ•¸\n1 2 3 4 5 6 7 8  [kibana-6.x] name=Kibana repository for 6.x packages baseurl=https://artifacts.elastic.co/packages/6.x/yum gpgcheck=1 gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch enabled=1 autorefresh=1 type=rpm-md   å®‰è£ kibana\n1  sudo yum install kibana   4. é…ç½® kibana kibana é…ç½®æª” /etc/kibana/kibana.yml\n1 2  elasticsearch.hosts: http://localhost:9200 server.host: 0.0.0.0   5. è¨­å®šé˜²ç«ç‰†å’ŒIP æ–°å¢\n1 2 3 4 5  sudo firewall-cmd --new-zone=kibana --permanent sudo firewall-cmd --reload sudo firewall-cmd --zone=kibana --add-source=\u0026lt;IP_ADDRESS\u0026gt;/32 --permanent sudo firewall-cmd --zone=kibana --add-port=5601/tcp --permanent sudo firewall-cmd --reload   ä¿®æ”¹\n1 2  sudo firewall-cmd --zone=kibana --add-source=\u0026lt;IP_ADDRESS\u0026gt; --permanent sudo firewall-cmd --reload   æ¸¬è©¦\n1 2  sudo firewall-cmd --zone=kibana --list-all sudo netstat -plnt   6. å•Ÿå‹• kibana æœå‹™ 1 2  sudo systemctl enable kibana.service sudo systemctl start kibana.service   æ¸¬è©¦ kibana\nhttp://localhost:5601\n1  sudo systemctl status kibana.service   ä¹Ÿå¯æª¢æŸ¥æœå‹™è¨˜éŒ„è¨Šæ¯\n1  sudo journalctl --unit kibana --since \u0026#34;20 min ago\u0026#34;   åƒè€ƒ Elastic å®˜ç¶²\n","description":"ä»‹ç´¹åœ¨ CentOS ä¸­å®‰è£ Kibana","id":14,"section":"posts","tags":["Kibana","CentOS"],"title":"CentOS 7 å¦‚ä½•å®‰è£ Kibana","uri":"https://reddtsai.github.io/zh/posts/elk_centoskibana/"},{"content":"ç‰ˆæœ¬\n Elasticsearch 6.8\nç’°å¢ƒ CentOS 7  1. å®‰è£ OpenJDK 1 2  sudo yum install java-1.8.0-openjdk-devel java -version   2. å®‰è£ Elasticsearch ç°½ç« å…¬é‘° 1  rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch   3. å®‰è£ Elasticsearch å»ºç«‹ Elasticsearch å¥—ä»¶å®¹å™¨è¨­å®šæª” /etc/yum.repos.d/elasticsearch.repo\nå¡«å…¥å¥—ä»¶å®¹å™¨åƒæ•¸\n1 2 3 4 5 6 7 8  [elasticsearch-6.x] name=Elasticsearch repository for 6.x packages baseurl=https://artifacts.elastic.co/packages/6.x/yum gpgcheck=1 gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch enabled=1 autorefresh=1 type=rpm-md   å®‰è£ Elasticsearch\n1  sudo yum install elasticsearch   4. å•Ÿå‹• Elasticsearch æœå‹™ 1 2  sudo systemctl enable elasticsearch.service sudo systemctl start elasticsearch.service   æ¸¬è©¦ Elasticsearch\n1 2  sudo systemctl status elasticsearch.service curl -X GET http://localhost:9200   ä¹Ÿå¯æª¢æŸ¥æœå‹™è¨˜éŒ„è¨Šæ¯\n1  sudo journalctl --unit elasticsearch --since \u0026#34;20 min ago\u0026#34;   5. è¨­å®šé˜²ç«ç‰†å’ŒIP æ–°å¢\n1 2 3 4 5  sudo firewall-cmd --new-zone=elasticsearch --permanent sudo firewall-cmd --reload sudo firewall-cmd --zone=elasticsearch --add-source=\u0026lt;IP_ADDRESS\u0026gt;/32 --permanent sudo firewall-cmd --zone=elasticsearch --add-port=9200/tcp --permanent sudo firewall-cmd --reload   ä¿®æ”¹\n1 2  sudo firewall-cmd --zone=elasticsearch --add-source=\u0026lt;IP_ADDRESS\u0026gt; --permanent sudo firewall-cmd --reload   æ¸¬è©¦\n1 2  sudo firewall-cmd --zone=kibana --list-all sudo netstat -plnt   6. é…ç½® Elasticsearch Elasticsearch é…ç½®æª” /etc/elasticsearch/elasticsearch.yml\nElasticsearch JVM é…ç½®æª” /etc/elasticsearch/jvm.options\nâœ³ï¸è¨˜æ†¶é«”é…ç½®ä¸å¯å°æ”¾å¯¦é«”è¨˜æ†¶é«”50%\n1 2 3  -Xms2g -Xmx2g network.host: 0.0.0.0   åƒè€ƒ Elastic å®˜ç¶²\nåƒè€ƒå®˜æ–¹èªªæ˜\n","description":"ä»‹ç´¹åœ¨ CentOS ä¸­å®‰è£ Elasticsearch","id":15,"section":"posts","tags":["Elasticsearch","CentOS"],"title":"CentOS 7 å¦‚ä½•å®‰è£ Elasticsearch","uri":"https://reddtsai.github.io/zh/posts/elk_centoselastic/"}]